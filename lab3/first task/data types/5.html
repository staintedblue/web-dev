<!DOCTYPE html>
<html>
    <body>

        <script>

            "use strict";

            // arrays -> allow to store ordered collections of values
            // array elements are numbered, starting with zero
            
            // declaration
            let a = new Array();
            let arr = [];

            let fruits = ["Grape", "Orange", "Plum"];

            // we can get an element by its number in square brackets :
            fruits = ["Grape", "Orange", "Plum"];

            alert(fruits[0]); // Grape
            alert(fruits[1]); // Orange
            alert(fruits[2]); // Plum

            // we can replace an element :
            fruits[2] = "Pear"; // now ["Grape", "Orange", "Pear"]

            // add a new one to the array :
            fruits[3] = "Lemon"; // now ["Grape", "Orange", "Pear", "Lemon"]

            // the total count of the elements in the array is its length :
            fruits = ["Grape", "Orange", "Plum"];

            alert(fruits.length); // 3

            // we can also use alert to show the whole array
            fruits = ["Grape", "Orange", "Plum"];

            alert(fruits); // Grape, Orange, Plum

            // an array can store elements of any type :
            // mix of values
            let array = ["Grape", { name : "Mark" }, true, function() { alert("blue"); } ];

            // get the object at index 1 and then show its name
            alert(array[1].name ); // Mark

            // get the function at index 3 and run it
            arr[3](); // blue

            // get last elements with "at" 
            fruits = ["Grape", "Orange", "Plum"];

            alert(fruits[fruits.length - 1]); // Plum

            // a shorter syntax -> fruits.at(-1) : 
            fruits = ["Grape", "Orange", "Plum"];

            // same as fruits[fruits.length - 1]
            alert(fruits.at(-1)); // Plum

            // arr.at(i) is exactly the same as arr[i], if i >= 0, and for negative values of i, it steps back from the end of the array


            // methods pop/push, shift/unshift

            // a queue (FIFO -> First-In-First-Out) is one of the most common uses of an array -> an ordered collection of elements which supports two operations : push (appends an element to the end) and shift( get an element from the beginning, advancing the queue, so that the 2nd element becomes the 1st)
            
            // a stack (LIFO -> Last-In-First-Out) -> push (adds an element to the end) and pop (takes an element from the end)

            // a deque allows to add/remove elements, both to/from the beginning or the end

            // methods that work with the end of the array :
            // pop -> extracts the last element of the array and returns it
            fruits = ["Grape", "Orange", "Pear"];
            
            alert(fruits.pop()); // remove "Pear" and alert it

            alert(fruits); // Grape, Orange

            // both fruits.pop() and fruits.at(-1) return the last element of the array, but fruits.pop() also modifies the array by removing it

            // push -> append the element to the end of the array
            fruits = ["Grape", "Orange"];

            fruits.push("Pear");

            alert(fruits); // // Grape, Orange, Plum

            // the call fruits.push(...) is equal to fruits[fruits.length] = ...

            // methods that work with the beginning of the array :
            // shift -> extracts the first element of the array and returns it
            fruits = ["Grape", "Orange", "Pear"];

            alert(fruits.shift()); // remove "Grape" and alert it

            alert(fruits); // Orange, Pear

            // unshift -> add the element to the beginning of the array
            fruits = ["Grape", "Orange"];

            fruits.unshift("Grape");

            alert(fruits); // // Grape, Orange, Plum

            // methods push and unshift can add multiple elements at once :
            fruits = ["Grape"];

            fruits.push("Orange", "Peach");
            fruits.unshift("Pineapple", "Lemon");

            // ["Pineapple", "Lemon", "Grape", "Orange", "Peach"]
            alert(fruits);

            
            // loops 
            // the for loop over indexes :
            a = ["Grape", "Orange", "Pear"];

            for (let i = 0; i < a.length; i++) {
                alert(a[i]);
            }

            // another form of loop, for..of :
            fruits = ["Grape", "Orange", "Pear"];

            // iterates over array elements
            for (let fruit of fruits) {
                alert(fruit);
            }

            // for..in -> iterates over all properties, not only the numeric ones (shouldn’t use) : 
            a = ["Grape", "Orange", "Pear"];

            for (let key in arr) {
                alert(a[key]); // Grape, Orange, Pear
            }


            // new Array() -> one more syntax to create an array
            a = new Array("Grape", "Pear", "etc"); // rarely used, because square brackets [] are shorter
            // also, there’s a tricky feature with it : if new Array is called with a single argument which is a number, then it creates an array without items, but with the given length
            // to avoid such surprises, we usually use square brackets, unless we really know what we’re doing


            // multidimensional arrays 
            let matrix = [
                [1, 2, 3], // 0
                [4, 5, 6], // 1
                [7, 8, 9] // 2
            ];

            alert(matrix[0][1]); // 2, the second value of the first inner array


            // toString -> returns a comma-separated list of elements
            a = [1, 2, 3];

            alert(a); // 1, 2, 3
            alert(String(a) === "1,2,3"); // true
            
            alert( [] + 1 ); // "1"
            alert( [1] + 1 ); // "11"
            alert( [1,2] + 1 ); // "1,21"

            // arrays do not have Symbol.toPrimitive, neither a viable valueOf, they implement only toString conversion
            // so here [] becomes an empty string, [1] becomes "1" and [1,2] becomes "1,2"
            // when the binary plus "+" operator adds something to a string, it converts it to a string as well
            alert( "" + 1 ); // "1"
            alert( "1" + 1 ); // "11"
            alert( "1,2" + 1 ); // "1,21"

        </script>

    </body>
</html>
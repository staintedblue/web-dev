<!DOCTYPE html>
<html>
    <body>

        <script>

            "use strict";

            // Object to primitive conversion


            // string -> for an object-to-string conversion :
            alert(obj); // output

            anotherObj[obj] = 123; // using object as a property key


            // number -> for an object-to-number conversion
            let num = Number(obj); // explicit conversion

            // maths (except binary plus)
            let n = +obj; // unary plus
            let delta = date1 - date2;

            let greater = user1 > user2; // less/greater comparison

            // default -> occurs in rare cases when the operator is "not sure" what type to expect
            let total = obj1 + obj2; // binary plus uses the "default" hint

            if (user == 1) { // obj == number uses the "default" hint
                // some code
            };


            // Symbol.toPrimitive -> should be used to name the conversion method
            obj[Symbol.toPrimitive] = function(hint) {
            // here goes the code to convert this object to a primitive
            // it must return a primitive value
            // hint = one of "string", "number", "default"
            };

            let user = {
                
                name: "Mark",
                money: 1000,

                [Symbol.toPrimitive](hint) {
                    alert(`hint : ${hint}`);
                    return hint == "string" ? `{name: "${this.name}"}` : this.money;
                }

            };

            // conversions demo :
            alert(user); // hint : string -> {name : "Mark"}
            alert(+user); // hint : number -> 1000
            alert(user + 500); // hint : default -> 1500


            // toString -> returns a string "[object Object]"
            // valueOf -> returns the object itself
            let user = {
                name : "Hayden"
            };

            alert(user); // [object Object]
            alert(user.valueOf() === user); // true

            let user = {

                name: "Mark",
                money: 1000,

                // for hint = "string"
                toString() {
                    return `{name: "${this.name}"}`;
                },

                // for hint = "number" or "default"
                valueOf() {
                    return this.money;
                }

            };

            alert(user); // toString -> {name : "Mark"}
            alert(+user); // valueOf -> 1000
            alert(user + 500); // valueOf -> 1500

        </script>

    </body>
</html>